#include <stdio.h>
#define SIZE 3

void add(int *a, int *b, int *result, int n) {
    for(int i=0; i<n*n; i++)
        *(result+i) = *(a+i) + *(b+i);
}

void subtract(int *a, int *b, int *result, int n) {
    for(int i=0; i<n*n; i++)
        *(result+i) = *(a+i) - *(b+i);
}

void multiply(int *a, int *b, int *result, int n) {
    int i, j, k;
    for(i=0; i<n; i++) {
        for(j=0; j<n; j++) {
            *(result + i*n + j) = 0;
            for(k=0; k<n; k++) 
                *(result + i*n + j) += *(a + i*n + k) * *(b + k*n + j);
        }
    }
}

void printMatrix(int *a, int n) {
    for(int i=0; i<n; i++) {
        for(int j=0; j<n; j++)
            printf("%d ", *(a + i * n + j));
        printf("
");
    }
}

int main() {
    int a[SIZE][SIZE] = { {1,2,3},{4,5,6},{7,8,9} };
    int b[SIZE][SIZE] = { {9,8,7},{6,5,4},{3,2,1} };
    int result[SIZE][SIZE];
    
    // Addition
    add((int *)a, (int *)b, (int *)result, SIZE);
    printf("Addition:
"); printMatrix((int *)result, SIZE);

    // Subtraction
    subtract((int *)a, (int *)b, (int *)result, SIZE);
    printf("Subtraction:
"); printMatrix((int *)result, SIZE);

    // Multiplication
    multiply((int *)a, (int *)b, (int *)result, SIZE);
    printf("Multiplication:
"); printMatrix((int *)result, SIZE);

    return 0;
}